
def input_vcf(wildcards):
    path='{input_vcfs}/{batch}.{source}.{chrom}.vcf'
    path = path.format(input_vcfs=config['input_vcfs'], batch=wildcards.batch,
                       source=wildcards.source, chrom=wildcards.chrom)
    return path

# TODO: generate blacklist from batch key
rule srtest:
    input:
        vcf=input_vcf
    output:
        metrics='srtest/{batch}.{source}.{chrom}.stats',
    shell:
         """
         svtools sr-test {input.vcf} {config[sr_counts]} {output.metrics}
         """

